(this["webpackJsonpdesk-booking"]=this["webpackJsonpdesk-booking"]||[]).push([[0],{280:function(e,n,t){"use strict";t.r(n);var a,r,s=t(5),i=t.n(s),o=t(25),l=t.n(o),d=t(15),c=(t(165),t(202),t(132),t(224),t(225),t(159)),h=t(14),b=t(16),j=t(31),p=t(32),u=t(39),g=t(38),m=t(37),x=t(55),O=t.n(x),y=t(92),f=t(153),v=t.n(f).a.create({baseURL:"http://localhost:3000/api"}),k=function(){var e=Object(y.a)(O.a.mark((function e(){return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,v.get("/employees").then((function(e){return e.data}));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),D=t(93),w=(t(249),t(94)),C=t.n(w),N=t(158),F=t(9),S=Object(b.a)(N.a)(a||(a=Object(d.a)(["\n  z-index: 2;\n  margin-bottom: 20px;\n"])));S.displayName="StyledSelect";var P=b.a.div(r||(r=Object(d.a)(["\n  margin-bottom: 40px;\n"])));P.displayName="StyledContainer";var U,M=function(e){Object(g.a)(t,e);var n=Object(m.a)(t);function t(){var e;Object(j.a)(this,t);for(var a=arguments.length,r=new Array(a),s=0;s<a;s++)r[s]=arguments[s];return(e=n.call.apply(n,[this].concat(r))).handleChange=function(n){e.props.handleUserChange(n)},e}return Object(p.a)(t,[{key:"render",value:function(){var e=this.props,n=e.selectOptions,t=e.selectedOption;return Object(F.jsxs)(P,{children:[Object(F.jsx)("h4",{className:"text-info",children:"Please choose your name from the list:"}),Object(F.jsx)(S,{className:"basic-single",classNamePrefix:"select",value:t,onChange:this.handleChange,options:n,isClearable:!0,isSearchable:!0}),null===t&&Object(F.jsx)("h4",{className:"small text-danger",children:"The Open Calendar button will be enabled once you select your name."})]})}}]),t}(i.a.Component),G=b.a.span(U||(U=Object(d.a)(["\n    position: absolute;\n    \n    .dot-flashing {\n        position: relative;\n        width: 20px;\n        height: 20px;\n        border-radius: 10px;\n        background-color: #a4b3d6;\n        color: #a4b3d6;\n        animation: dotFlashing 1s infinite linear alternate;\n        animation-delay: 1s;\n    }\n    \n    .dot-flashing::before, .dot-flashing::after {\n        content: '';\n        display: inline-block;\n        position: absolute;\n        top: 0;\n    }\n    \n    .dot-flashing::before {\n        left: -80px;\n        width: 20px;\n        height: 20px;\n        border-radius: 10px;\n        background-color: #a4b3d6;\n        color: #a4b3d6;\n        animation: dotFlashing 1s infinite alternate;\n        animation-delay: .5s;\n    }\n    \n    .dot-flashing::after {\n        left: 80px;\n        width: 20px;\n        height: 20px;\n        border-radius: 10px;\n        background-color: #a4b3d6;\n        color: #a4b3d6;\n        animation: dotFlashing 1s infinite alternate;\n        animation-delay: 1.5s;\n    }\n\n    @keyframes dotFlashing {\n        0% {\n            background-color: #a4b3d6;\n        }\n        50%,\n        100% {\n            background-color: rgba(0,0,0,0.5);\n            width: 15px;\n            height: 15px;\n        }\n    }\n"])));G.displayName="StyledLoading";var R,A,T=function(){return Object(F.jsx)(G,{children:Object(F.jsx)("p",{className:"dot-flashing"})})},z=b.a.div(R||(R=Object(d.a)(["\n    position: absolute;\n    display: block;\n    width: 100%;\n    height: 100%;\n    top: 0;\n    left: 0;\n    right: 0;\n    bottom: 0;\n    background-color: rgba(0,0,0,0.5);\n    z-index: 2;\n    cursor: pointer;\n"])));z.displayName="StyledOverlay";var E=b.a.div(A||(A=Object(d.a)(["\n    position: absolute;\n    top: 50%;\n    left: 50%;\n    font-size: 50px;\n    color: white;\n    transform: translate(-50%,-50%);\n    -ms-transform: translate(-50%,-50%);\n    text-align: center;\n"])));E.displayName="StyledTextOverlay";i.a.Component;var I,L=t(74),Y=t(156),B=t(157),W=b.a.div(I||(I=Object(d.a)(["\n    margin-top: 20px;\n    display: block;\n    margin-bottom: 20px;\n    \n    .rdrCalendarWrapper {\n        font-size: 100%;\n        width: 100%;\n    }\n    .rdrMonth {\n        width: 100%;\n        height: 100%;\n    }\n    .rdrDay {\n        height: 4em;\n    }\n    .rdrDateInput, .rdrMonthAndYearPickers, .rdrWeekDays, .rdrDayNumber {\n        font-size: 20px;\n    }\n    .rdrDays {\n        height: 100%;\n    }\n    \n    @media (max-width: 1199px) {\n        .rdrDay {\n            height: 3em;\n        }\n        .rdrDateInput, .rdrMonthAndYearPickers, .rdrWeekDays, .rdrDayNumber {\n            font-size: 15px;\n        }\n    }\n"])));W.displayName="StyledContainer";var J,H,_,q,K=new Date,Q=function(e){var n=e.startDate,t=e.endDate,a=e.setDateRange,r=Object(s.useState)([{startDate:K,endDate:K,key:"selection"}]),i=Object(L.a)(r,2),o=i[0],l=i[1];Object(s.useEffect)((function(){l([{startDate:n,endDate:t,key:"selection"}])}),[n,t]);return Object(F.jsx)(W,{children:Object(F.jsx)(B.DateRange,{editableDateInputs:!0,showSelectionPreview:!0,onChange:function(n){return t=[n.selection],l(t),a(t[0].startDate,t[0].endDate),void(e.callBack&&e.callBack());var t},moveRangeOnFirstSelection:!1,months:1,minDate:K,ranges:o,locale:Y.de,dateDisplayFormat:"dd.MM.yyyy"})})};C.a.setAppElement("#root"),b.a.div(J||(J=Object(d.a)(["\n    margin-top: 7%;\n    padding: 0;\n"]))).displayName="StyledDate";var V=b.a.div(H||(H=Object(d.a)(["\n    padding: 1% 2% 0 1%;\n    @media (max-width: 991px) {\n        padding: 3% 10%;\n    }\n"])));V.displayName="StyledSelectors";var X=b.a.div(_||(_=Object(d.a)(["\n    padding: 70px;\n    background-color: #F8FAB7;\n    @media (max-width: 991px) {\n        display: flex;\n        flex-direction: column-reverse;\n    }\n    .plans-cls {\n        border-right: 3px solid #293FCA;\n        display: inline-flex;\n        @media (max-width: 991px) {\n            border-right: none;\n            border-top: 3px solid #293FCA;\n        }\n    }\n"])));X.displayName="StyledContainer";var Z=Object(b.a)(C.a)(q||(q=Object(d.a)(["\n    color: black;\n    width: 40%;\n    margin: 1% auto;\n    background-color: white;\n    border: 1px solid #a4b3d6;\n    padding: 2%;\n\n    @media (max-width: 991px) {\n        width: 80%;\n    }\n"])));Z.displayName="StyledModal";var $,ee,ne=new Date,te=function(e){Object(g.a)(t,e);var n=Object(m.a)(t);function t(e){var a;return Object(j.a)(this,t),(a=n.call(this,e)).getEmployees=function(){return k().then((function(e){var n=e.data,t=n.map((function(e){return{value:e._id,label:e.firstname+" "+e.surname}}));a.setState({users:n,selectOptions:t,loading:!1})})).catch((function(e){D.NotificationManager.error("Error","Can not get employees",5e3),a.setState({fatalError:!0})}))},a.state={endDate:null,startDate:ne,startDatePeriod:ne,endDatePeriod:null,isPermanent:!1,loading:!0,selectOptions:[],selectedUser:null,showModal:!1,showCalendar:!1},a.setDateRange=a.setDateRange.bind(Object(u.a)(a)),a.handleUserChange=a.handleUserChange.bind(Object(u.a)(a)),a.toggleCalendar=a.toggleCalendar.bind(Object(u.a)(a)),a.getPeriodText=a.getPeriodText.bind(Object(u.a)(a)),a.clearDates=a.clearDates.bind(Object(u.a)(a)),a.refContainer=i.a.createRef(),a}return Object(p.a)(t,[{key:"componentDidMount",value:function(){this.getEmployees()}},{key:"componentDidUpdate",value:function(e,n){n.selectedUser&&this.state.selectedUser&&(n.selectedUser.value,this.state.selectedUser.value)}},{key:"setDateRange",value:function(e,n){this.setState({startDatePeriod:e,endDatePeriod:n})}},{key:"handleUserChange",value:function(e){this.setState({selectedUser:e})}},{key:"toggleCalendar",value:function(){this.setState({showCalendar:!this.state.showCalendar})}},{key:"getPeriodText",value:function(){var e=this.state,n=e.startDatePeriod,t=e.endDatePeriod;return 0===Math.ceil(Math.abs(t-n)/864e5)?n.toLocaleDateString():Object(F.jsxs)(i.a.Fragment,{children:[Object(F.jsx)("strong",{children:"From: "}),n.toLocaleDateString(),Object(F.jsx)("strong",{children:" - To: "}),t.toLocaleDateString()]})}},{key:"clearDates",value:function(){this.setState({endDatePeriod:null,startDatePeriod:ne,isPermanentPeriod:!1,modified:!1})}},{key:"render",value:function(){var e=this.state,n=e.startDatePeriod,t=e.endDatePeriod,a=e.selectOptions,r=e.selectedUser,s=e.showCalendar;return Object(F.jsxs)(X,{className:"row",children:[Object(F.jsx)(D.NotificationContainer,{}),Object(F.jsx)("div",{className:"plans-cls col-lg-8 col-xs-12",children:Object(F.jsx)(oe,{})}),Object(F.jsxs)(V,{className:"col-lg-4 col-xs-12",children:[Object(F.jsx)(M,{selectedOption:r,selectOptions:a,handleUserChange:this.handleUserChange}),n&&t&&Object(F.jsxs)("div",{className:"margin-top-20 bg-info text-center hidden-md hidden-sm hidden-xs col-md-12",children:[Object(F.jsx)("h3",{children:"Date selected:"}),Object(F.jsx)("p",{children:this.getPeriodText()}),Object(F.jsx)("button",{className:"btn btn-warning margin-bottom-20",onClick:this.clearDates,children:"Clear selection"})]}),Object(F.jsx)("h4",{className:"text-info",children:"Choose a day or a range in the calendar: "}),Object(F.jsx)("button",{onClick:this.toggleCalendar,disabled:!r,className:"btn btn-primary",children:"Open Calendar"})]}),Object(F.jsxs)(Z,{isOpen:s,contentLabel:"Choose a date or range",style:{overlay:{zIndex:3}},children:[Object(F.jsx)("p",{className:"text-info",children:'To select a range click on the start day and in the end day you want or type it in the inputs in the format "DD.MM.YYYY".'}),Object(F.jsx)(Q,{setDateRange:this.setDateRange,startDate:n||ne,endDate:t||ne}),Object(F.jsx)("br",{}),Object(F.jsx)("button",{onClick:this.toggleCalendar,className:"btn btn-lg btn-danger",children:"Close"})]})]})}}]),t}(s.Component),ae=(s.Component,t.p+"static/media/office.cbe5ee73.jpeg"),re=b.a.div($||($=Object(d.a)(["\n    padding: 20px 40px;\n    display: inline-block;\n    text-align: center;\n    width: 50%;\n    img {\n        max-width: 100%;\n    }\n"])));re.displayName="StyledImg";var se=b.a.div(ee||(ee=Object(d.a)(["\n    position: relative;\n    margin: 0 auto;\n"])));se.displayName="StyledClickPointsContainer";var ie,oe=function(e){var n=Object(s.useState)({showGround:!0,showFirst:!1}),t=Object(L.a)(n,2),a=t[0],r=t[1],i=function(){a.showGround?r({showGround:!1,showFirst:!0}):r({showGround:!0,showFirst:!1})};return Object(F.jsxs)(se,{className:"col-xs-12",children:[Object(F.jsxs)("div",{className:"d-xs-block d-sm-block d-md-block d-lg-none",children:[Object(F.jsx)("button",{className:"btn btn-info",onClick:i,children:"Ground Floor"}),Object(F.jsx)("button",{className:"btn btn-info",onClick:i,children:"First Floor"})]}),Object(F.jsxs)("div",{className:"desktop d-none d-lg-block",children:[Object(F.jsxs)(re,{children:[Object(F.jsx)("h2",{children:"Ground Floor"}),Object(F.jsx)("img",{src:ae,alt:"Ground Floor"})]}),Object(F.jsxs)(re,{children:[Object(F.jsx)("h2",{children:"First Floor"}),Object(F.jsx)("img",{src:ae,alt:"First Floor"})]})]}),Object(F.jsxs)("div",{className:"mobile d-xs-block d-sm-block d-md-block d-lg-none",children:[a.showGround&&Object(F.jsxs)(re,{children:[Object(F.jsx)("h2",{children:"Ground Floor"}),Object(F.jsx)("img",{src:ae,alt:"Ground Floor"})]}),a.showFirst&&Object(F.jsxs)(re,{children:[Object(F.jsx)("h2",{children:"First Floor"}),Object(F.jsx)("img",{src:ae,alt:"First Floor"})]})]})]})},le=b.a.div(ie||(ie=Object(d.a)(["\n    text-align: center;\n    background-color: #293FCA;\n    color: white;\n    padding: 15px;\n"])));le.displayName="StyledHeader";var de=function(){return Object(F.jsxs)(c.a,{children:[Object(F.jsxs)(le,{children:[Object(F.jsx)("h2",{children:"Welcome to Desk Booking"}),Object(F.jsx)("p",{children:"Please select your name from the list, then choose a date/period and the desk you want booking."})]}),Object(F.jsx)(h.a,{path:"/",exact:!0,component:te})]})};l.a.render(Object(F.jsx)(de,{}),document.getElementById("root"))}},[[280,1,2]]]);
//# sourceMappingURL=main.9ce554b8.chunk.js.map